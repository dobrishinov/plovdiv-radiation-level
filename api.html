<!DOCTYPE html>
<html lang="en">

<head>
   <title>Plovdiv Radiation Level</title>
   <meta charset="utf-8">
   <meta name="description" content="Plovdiv Radiation Level">
   <meta name="keywords" content="Plovdiv, Bulgaria, Radiation, Radiation Meter, Geiger Counter,">
   <meta name="author" content="Georgi Dobrishinov">
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
   <!-- Bootstrap core CSS -->
   <link href="assets/css/bootstrap.min.css" rel="stylesheet">
   <!-- Custom styles for highlight -->
   <link rel="stylesheet" href="assets/css/highlightjs.monokai.min.css">
   <!-- Custom styles for this template -->
   <link href="assets/css/custom.css" rel="stylesheet">
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async src="https://www.googletagmanager.com/gtag/js?id=G-BF3HB4L5MH"></script>
   <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'G-BF3HB4L5MH');      
   </script>

   <!-- Load highlight.js -->
   <script src="assets/js/highlight.min.js"></script>
   <script>hljs.highlightAll();</script>
</head>

<body>
   <header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
      <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" href="index.html">Plovdiv Radiation Level</a>
      <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse"
         data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
         <span class="navbar-toggler-icon"></span>
      </button>
   </header>

   <div class="container-fluid">
      <div class="row">
         <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
            <div class="position-sticky pt-3">
               <ul class="nav flex-column">
                  <li class="nav-item">
                     <a class="nav-link" aria-current="page" href="index.html">
                        <span data-feather="activity"></span>
                        Dashboard
                     </a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="more-info.html">
                        <span data-feather="info"></span>
                        More Information
                     </a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link active" href="api.html">
                        <span data-feather="download-cloud"></span>
                        API
                     </a>
                  </li>
               </ul>

               <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                  <span>History</span>
               </h6>
               <ul class="nav flex-column mb-2">
                  <li class="nav-item">
                     <a class="nav-link" href="latest-24-hours.html">
                        <span data-feather="bar-chart-2"></span>
                        Last 24 Hours
                     </a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="latest-48-hours.html">
                        <span data-feather="bar-chart-2"></span>
                        Last 48 Hours
                     </a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="latest-7-days.html">
                        <span data-feather="bar-chart-2"></span>
                        Last 7 Days
                     </a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="latest-14-days.html">
                        <span data-feather="bar-chart-2"></span>
                        Last 14 Days
                     </a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="latest-30-days.html">
                        <span data-feather="bar-chart-2"></span>
                        Last 30 Days
                     </a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="latest-60-days.html">
                        <span data-feather="bar-chart-2"></span>
                        Last 60 Days
                     </a>
                  </li>
               </ul>
            </div>
            <div class="version"><a class="btn btn-success"
                  href="https://github.com/dobrishinov/plovdiv-radiation-level"><i class="feather-h"
                     data-feather="github"></i>v0.1.4</a></div>
         </nav>

         <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <div
               class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
               <h1 class="h2"><i class="feather-h" data-feather="download-cloud"></i>API - Documentation</h1>
            </div>

            <p class="h4">Read Data</p>
            <p class="h7">Read data from all fields in channel with HTTP GET</p>

            <p class="h5">Request</p>
            <hr>
            <p class="h6">HTTP Method</p>
            <p class="h7">GET</p>
            <p class="h6">URL</p>
            <p class="h7"><pre><code>https://api.thingspeak.com/channels/1663924/feeds.<b><i>[format]</i></b></code></pre></p>
            <br>
            <p class="h6">URL Parameters</p>
            <table class="table table-bordered">
               <thead class="table-light">
                  <tr>
                     <th scope="col">Name</th>
                     <th scope="col">Description</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <th scope="row"><i>[format]</i></th>
                     <td>(Required) Format for the HTTP response, specified as json, xml, or csv.</td>
                  </tr>
               </tbody>
            </table>
            <p class="h7"><i>Example:</i> https://api.thingspeak.com/channels/1663924/feeds.json</p>
            <br>
            <p class="h6">Query String Parameters</p>
            <table class="table table-bordered">
               <thead class="table-light">
                  <tr>
                     <th scope="col">Name</th>
                     <th scope="col">Description</th>
                     <th scope="col">Value Type</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <th scope="row"><i>results</i></th>
                     <td>(Optional) Number of entries to retrieve. The maximum number is 8,000.</td>
                     <td>integer</td>
                  </tr>
                  <tr>
                     <th scope="row"><i>days</i></th>
                     <td>(Optional) Number of 24-hour periods before now to include in response. The default is 1.</td>
                     <td>integer</td>
                  </tr>
                  <tr>
                     <th scope="row"><i>minutes</i></th>
                     <td>(Optional) Number of 60-second periods before now to include in response. The default is 1440.
                     </td>
                     <td>integer</td>
                  </tr>
                  <tr>
                     <th scope="row"><i>start</i></th>
                     <td>(Optional) Start date in format YYYY-MM-DD%20HH:NN:SS.</td>
                     <td>datetime</td>
                  </tr>
                  <tr>
                     <th scope="row"><i>end</i></th>
                     <td>(Optional) End date in format YYYY-MM-DD%20HH:NN:SS.</td>
                     <td>datetime</td>
                  </tr>
                  <tr>
                     <th scope="row"><i>min</i></th>
                     <td>(Optional) Minimum value to include in response.</td>
                     <td>decimal</td>
                  </tr>
                  <tr>
                     <th scope="row"><i>max</i></th>
                     <td>(Optional) Maximum value to include in response.</td>
                     <td>decimal</td>
                  </tr>
                  <tr>
                     <th scope="row"><i>round</i></th>
                     <td>(Optional) Round to this many decimal places.</td>
                     <td>integer</td>
                  </tr>
                  <tr>
                     <th scope="row"><i>timescale</i></th>
                     <td>(Optional) Get first value in this many minutes, valid values: 10, 15, 20, 30, 60, 240, 720,
                        1440, "daily".</td>
                     <td>integer or string</td>
                  </tr>
                  <tr>
                     <th scope="row"><i>sum</i></th>
                     <td>(Optional) Get sum of this many minutes, valid values: 10, 15, 20, 30, 60, 240, 720, 1440,
                        "daily".</td>
                     <td>integer or string</td>
                  </tr>
                  <tr>
                     <th scope="row"><i>average</i></th>
                     <td>(Optional) Get average of this many minutes, valid values: 10, 15, 20, 30, 60, 240, 720, 1440,
                        "daily".</td>
                     <td>integer or string</td>
                  </tr>
                  <tr>
                     <th scope="row"><i>median</i></th>
                     <td>(Optional) Get median of this many minutes, valid values: 10, 15, 20, 30, 60, 240, 720, 1440,
                        "daily".</td>
                     <td>integer or string</td>
                  </tr>
               </tbody>
            </table>

            <div class="alert alert-primary" role="alert">
               <h4 class="alert-heading">Note</h4>
               <p>The results parameter has the highest precedence. Using results with the parameters min, max, timescale, sum, average, or median can cause less than 8000 records to be returned. The results parameter determines the maximum number of entries to be used for a query, up to 8000. For example, consider a channel with one update per minute. A read request to that channel with the parameters ?results=120&sum=60 returns only two records, and not 120. </p>
               <hr>
               <p class="mb-0">See the example "Read Two Hours of Entries in JSON Format and Average."</p>
            </div>

            <br>

            <p class="h5">Response</p>
            <hr>
            <p class="h6">Success</p>
            <p class="h7">HTTP Status Code - 200 OK</p>
            <p class="h6">Body</p>
            <div class="card">
               <div class="card-body">
                  <h5 class="card-title">JSON Example</h5>
                  <hr style="margin-top: 0px;">
                  <h6 class="card-subtitle mb-2 text-muted"><span class="badge badge-color">Request</span></h6>
                  <pre><code>GET https://api.thingspeak.com/channels/1663924/feeds.json?results=2 or GET https://api.thingspeak.com/channels/1663924/feeds?results=2</code></pre>
                  <h6 class="card-subtitle mb-2 text-muted"><span class="badge badge-color">Response</span></h6>
                  
                  <pre><code>{
   "channel": 
   {
      "id": 1663924,
      "name": "Plovdiv Radiation Level",
      "description": "Radiation Level in Plovdiv/Bulgaria",
      "latitude": "0.0",
      "longitude": "0.0",
      "field1": "CPS",        //Counter Per Second
      "field2": "CPM",        //Counter Per Minute
      "field3": "μSv/h",      //μSv Per Hour
      "field4": "Algorithm",  //Showing the using Algorithm to calculate μSv/h - SLOW for < 5.7 µSv/h, FAST for > 5.7 µSv/h, INST for > 88 µSv/h 
      "created_at": "2022-02-27T18:39:51Z",
      "updated_at": "2022-02-27T21:26:59Z",
      "last_entry_id": 12884
   },
   "feeds": 
   [
      {
         "created_at": "2022-03-08T18:32:15Z",
         "entry_id": 12883,
         "field1": "0",      //Counter Per Second
         "field2": "24",     //Counter Per Minute
         "field3": "0.13",   //μSv Per Hour
         "field4": "SLOW"    //Showing the using Algorithm to calculate μSv/h - SLOW for < 5.7 µSv/h, FAST for > 5.7 µSv/h, INST for > 88 µSv/h 
      },
      {
         "created_at": "2022-03-08T18:33:15Z",
         "entry_id": 12884,
         "field1": "0",      //Counter Per Second
         "field2": "24",     //Counter Per Minute
         "field3": "0.13",   //μSv Per Hour
         "field4": "SLOW"    //Showing the using Algorithm to calculate μSv/h - SLOW for < 5.7 µSv/h, FAST for > 5.7 µSv/h, INST for > 88 µSv/h
      }
   ]
}</code></pre>
               
                  <div class="alert alert-primary" role="alert">
                     <h4 class="alert-heading">Note</h4>
                     <p>
                        "field1": "CPS",        //Counter Per Second <br>
                        "field2": "CPM",        //Counter Per Minute <br>
                        "field3": "μSv/h",      //μSv Per Hour <br>
                        "field4": "Algorithm",  //Showing the using Algorithm to calculate μSv/h - SLOW for < 5.7 µSv/h, FAST for > 5.7 µSv/h, INST for > 88 µSv/h 
                     </p>
                  </div>
               </div>
            </div>

            <p class="h5">Examples</p>
            <hr>
            <p class="h7">You can use your web browser to complete GET HTTP requests to the RESTful API for ThingSpeak™. To see the format for an HTTP response, click the link or copy it to your browser.</p>

            <br>

            <p class="h6">Read Three Entries in JSON Format</p>
            <p class="h7">Channel 1663924 contains information about Radiation Level. You can read data from this public channel. The format for the response occurs at the end of the URL, before any query string parameters. Append the first parameter after a question mark ?. You can use the results parameter to control the number of entries returned, which is up to 8000.</p>
            <p class="h7"><i><a href="https://api.thingspeak.com/channels/1663924/feeds.json?results=3">https://api.thingspeak.com/channels/1663924/feeds.json?results=3</a></i></p>

            <br>

            <p class="h6">Read Two Hours of Entries in JSON Format and Average</p>
            <p class="h7">Channel 1663924 contains information about Radiation Level, updates once per minute. You can read data from this public channel. The format for the response occurs at the end of the URL, before any query string parameters. Append the first parameter after a question mark ?. You can use the results parameter to control the number of entries returned, up to 8000. In this request, 120 results are averaged into two responses.</p>
            <p class="h7"><i><a href="https://api.thingspeak.com/channels/1663924/feeds.json?results=120&average=60">https://api.thingspeak.com/channels/1663924/feeds.json?results=120&average=60</a></i></p>

            <br>

            <p class="h6">Read a Median Value of specific Date Range of Entries in JSON Format</p>
            <p class="h7">Channel 1663924 contains information about Radiation Level. You can read data from this public channel. The format for the response occurs at the end of the URL, before any query string parameters. Append the first parameter after a question mark ?. You can use the results parameter to control the number of entries returned, up to 8000. In this example, the start and end parameters are used to specify date limits for the requested data. Median parameter are set to "daily". The result are median value of the radiation per day in that specific date slot.</p>
            <p class="h7"><i><a href="https://api.thingspeak.com/channels/1663924/feeds.json?start=2022-03-1%2010:10:10&end=2022-03-05%2011:11:11&median=daily">https://api.thingspeak.com/channels/1663924/feeds.json?start=2022-03-1%2010:10:10&end=2022-03-05%2011:11:11&median=daily</a></i></p>

            <br>
         </main>
      </div>
   </div>

   <script src="assets/js/bootstrap.bundle.min.js"></script>
   <script src="assets/js/feather.min.js"></script>
   <script src="assets/js/custom.js"></script>
</body>

</html>